<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content=""> <meta name="msvalidate.01" content=""> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Credit Risk Prediction | Amirhossein Mahmoudi </title> <meta name="author" content="Amirhossein Mahmoudi"> <meta name="description" content="Predicting credit risk when a person requests for loan using random forest on south German dataset (fixing imbalanced data)"> <meta name="keywords" content="amirhossein-mahmoudi, mahmoudi, am_mahmoudi,"> <meta property="og:site_name" content="Amirhossein Mahmoudi"> <meta property="og:type" content="website"> <meta property="og:title" content="Amirhossein Mahmoudi | Credit Risk Prediction"> <meta property="og:url" content="https://mamood.ir/projects/Credit-Risk-Prediction/"> <meta property="og:description" content="Predicting credit risk when a person requests for loan using random forest on south German dataset (fixing imbalanced data)"> <meta property="og:image" content="https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/imb.png"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Credit Risk Prediction"> <meta name="twitter:description" content="Predicting credit risk when a person requests for loan using random forest on south German dataset (fixing imbalanced data)"> <meta name="twitter:image" content="https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/imb.png"> <meta name="twitter:site" content="@ammahmoodi"> <meta name="twitter:creator" content="@ammahmoodi"> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Amirhossein Mahmoudi"
        },
        "url": "https://mamood.ir/projects/Credit-Risk-Prediction/",
        "@type": "WebSite",
        "description": "Predicting credit risk when a person requests for loan using random forest on south German dataset (fixing imbalanced data)",
        "headline": "Credit Risk Prediction",
        
        "sameAs": ["https://orcid.org/0009-0006-8879-7932", "https://github.com/ammahmoudi", "https://telegram.me/am_mahmoudi", "https://www.linkedin.com/in/am-mahmoudi", "https://twitter.com/ammahmoodi", "https://instagram.com/am.mahmoudi"],
        
        "name": "Amirhossein Mahmoudi",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png?35f4f1d9ccd51f0ffeea607d2b075320"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://mamood.ir/projects/Credit-Risk-Prediction/"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Amirhossein</span> Mahmoudi </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">Projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/portfolio/">Portfolio </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Credit Risk Prediction</h1> <p class="post-description">Predicting credit risk when a person requests for loan using random forest on south German dataset (fixing imbalanced data)</p> </header> <article> <div id="open-in-github"> <table class="table-cv list-group-table"> <tbody> <tr> <td class="list-group-name"><b> <a href="https://github.com/ammahmoudi/Credit-Risk-Prediction" rel="external nofollow noopener" target="_blank"><i class="fa-brands fa-github"></i> This page is auto-generated. For more info and materials take a look at the original repository.</a> </b></td> </tr> </tbody> </table> </div> <hr> <p>Credit risk infers to the possibility of a loss emerging from a borrower’s downfall to pay back a loan or meet contractual commitments. Conventionally, it pertains to the risk arising from lenders’ inability to return the owed interest and principal, impacting the cash flows and increasing assemblage costs. We used German credit data using Random forest (along with over-sampling and under-sampling methods to fix imbalanced data).The aim is to predict credit risk when a person requests for loan. You have to build a model to predict whether the person, described by the attributes of this dataset, is a good (1) or a bad (0) credit risk?</p> <h2 id="data-documentation">Data Documentation</h2> <p>Credit risk of south german dataset contains 1000 samples and 21 attributes. A brief description for each attribute is as follows:</p> <h3 id="categorical-features">Categorical Features:</h3> <h4 id="status"><strong>status</strong></h4> <p>status of the debtor’s checking account with the bank</p> <ul> <li>1 : no checking account</li> <li>2 : … &lt; 0 DM</li> <li>3 : 0&lt;= … &lt; 200 DM</li> <li>4 : … &gt;= 200 DM / salary for at least 1 year</li> </ul> <h4 id="credit_history"><strong>credit_history</strong></h4> <p>history of compliance with previous or concurrent credit contracts</p> <ul> <li>0 : delay in paying off in the past</li> <li>1 : critical account/other credits elsewhere</li> <li>2 : no credits taken/all credits paid back duly</li> <li>3 : existing credits paid back duly till now</li> <li>4 : all credits at this bank paid bac</li> </ul> <h4 id="purpose"><strong>purpose</strong></h4> <p>purpose for which the credit is needed</p> <ul> <li>0 : others</li> <li>1 : car (new)</li> <li>2 : car (used)</li> <li>3 : furniture/equipment</li> <li>4 : radio/television</li> <li>5 : domestic appliances</li> <li>6 : repairs</li> <li>7 : education</li> <li>8 : vacation</li> <li>9 : retraining</li> <li>10 : business</li> </ul> <h4 id="savings"><strong>savings</strong></h4> <p>debtor’s savings</p> <ul> <li>1 : unknown/no savings account</li> <li>2 : … &lt; 100 DM</li> <li>3 : 100 &lt;= … &lt; 500 DM</li> <li>4 : 500 &lt;= … &lt; 1000 DM</li> <li>5 : … &gt;= 1000 DM</li> </ul> <h4 id="personal_status"><strong>personal_status</strong></h4> <p>combined information on sex and marital status</p> <ul> <li>1 : male : divorced/separated</li> <li>2 : female : non-single or male : single</li> <li>3 : male : married/widowed</li> <li>4 : female : single</li> </ul> <h4 id="other_debtors"><strong>other_debtors</strong></h4> <p>Is there another debtor or a guarantor for the credit?</p> <ul> <li>1 : none</li> <li>2 : co-applicant</li> <li>3 : guarantor</li> </ul> <h4 id="other_installment_plans"><strong>other_installment_plans</strong></h4> <p>installment plans from providers other than the credit-giving bank</p> <ul> <li>1 : bank</li> <li>2 : stores</li> <li>3 : none</li> </ul> <h4 id="housing"><strong>housing</strong></h4> <p>type of housing the debtor lives in</p> <ul> <li>1 : for free</li> <li>2 : rent</li> <li>3 : own</li> </ul> <h3 id="binary-features">Binary features</h3> <h4 id="people_liable"><strong>people_liable</strong></h4> <p>number of persons who financially depend on the debtor (i.e., are entitled to maintenance)</p> <ul> <li>1 : 3 or more</li> <li>2 : 0 to 2</li> </ul> <h4 id="telephone"><strong>telephone</strong></h4> <p>Is there a telephone landline registered on the debtor’s name?</p> <ul> <li>1 : no</li> <li>2 : yes (under customer name)</li> </ul> <h4 id="foreign_worker"><strong>foreign_worker</strong></h4> <p>Is the debtor a foreign worker?</p> <ul> <li>1 : yes</li> <li>2 : no</li> </ul> <h3 id="ordinal-features">Ordinal features:</h3> <h4 id="employment_duration"><strong>employment_duration</strong></h4> <p>duration of debtor’s employment with current employer</p> <ul> <li>1 : unemployed</li> <li>2 : &lt; 1 yr</li> <li>3 : 1 &lt;= … &lt; 4 yrs</li> <li>4 : 4 &lt;= … &lt; 7 yrs</li> <li>5 : &gt;= 7 yrs</li> </ul> <h4 id="installment_rate"><strong>installment_rate</strong></h4> <p>credit installments as a percentage of debtor’s disposable income</p> <ul> <li>1 : &gt;= 35</li> <li>2 : 25 &lt;= … &lt; 35</li> <li>3 : 20 &lt;= … &lt; 25</li> <li>4 : &lt; 20</li> </ul> <h4 id="present_residence"><strong>present_residence</strong></h4> <p>length of time (in years) the debtor lives in the present residence</p> <ul> <li>1 : &lt; 1 yr</li> <li>2 : 1 &lt;= … &lt; 4 yrs</li> <li>3 : 4 &lt;= … &lt; 7 yrs</li> <li>4 : &gt;= 7 yr</li> </ul> <h4 id="property"><strong>property</strong></h4> <p>the debtor’s most valuable property, i.e. the highest possible code is used. Code 2 is used, if codes 3 or 4 are not applicable and there is a car or any other relevant property that does not fall under variable sparkont.</p> <ul> <li>1 : unknown / no property</li> <li>2 : car or other</li> <li>3 : building soc. savings agr./life insurance</li> <li>4 : real estate</li> </ul> <h4 id="number_credits"><strong>number_credits</strong></h4> <p>number of credits including the current one the debtor has (or had) at this bank</p> <ul> <li>1 : 1</li> <li>2 : 2-3</li> <li>3 : 4-5</li> <li>4 : &gt;= 6</li> </ul> <h4 id="job"><strong>job</strong></h4> <p>quality of debtor’s job</p> <ul> <li>1 : unemployed/unskilled - non-resident</li> <li>2 : unskilled - resident</li> <li>3 : skilled employee/official</li> <li>4 : manager/self-empl./highly qualif. employee</li> </ul> <h3 id="continuous-features">Continuous features:</h3> <h4 id="duration"><strong>duration</strong></h4> <p>credit duration in months</p> <h4 id="amount"><strong>amount</strong></h4> <p>credit amount in DM</p> <h4 id="age"><strong>age</strong></h4> <p>age in years</p> <h3 id="class-labels">Class labels:</h3> <h4 id="credit_risk"><strong>credit_risk</strong></h4> <p>Has the credit contract been complied with (good) or not (bad) ? (binary class)</p> <ul> <li>0 : bad</li> <li>1 : good</li> </ul> <p>For more information please read the <a href="https://archive.ics.uci.edu/dataset/573/south+german+credit+update" rel="external nofollow noopener" target="_blank">data documentation</a>.</p> <h2 id="code-explanation">Code Explanation</h2> <p>The code aims to analyze credit risk data, visualize relationships, train a classifier, and address class imbalance issues. It uses Python libraries like pandas, numpy, seaborn, and scikit-learn. The goal is to predict credit risk based on various features in the dataset .</p> <h3 id="importing-libraries"><strong>Importing Libraries</strong></h3> <ul> <li>The code begins by importing necessary libraries such as <code class="language-plaintext highlighter-rouge">pandas</code> and <code class="language-plaintext highlighter-rouge">numpy</code> for data manipulation, and <code class="language-plaintext highlighter-rouge">matplotlib</code> and <code class="language-plaintext highlighter-rouge">seaborn</code> for visualization. <h3 id="loading-data"> <strong>Loading Data</strong>:</h3> </li> <li>The credit risk dataset is read from a file named “Data.asc” using <code class="language-plaintext highlighter-rouge">pd.read_csv()</code>.</li> <li>The shape of the loaded dataframe is printed. <h3 id="data-exploration"><strong>Data Exploration</strong></h3> </li> <li>The top few rows of the dataset are displayed using <code class="language-plaintext highlighter-rouge">credit_data.head()</code>.</li> <li>A concise summary of the dataframe is printed using <code class="language-plaintext highlighter-rouge">credit_data.info()</code>, showing non-null counts and data types for each column.</li> <li>Statistical summary of data is displayed using <code class="language-plaintext highlighter-rouge">credit_data.describe()</code>. <h3 id="exploratory-data-analysis-eda"><strong>Exploratory Data Analysis (EDA)</strong></h3> </li> <li>Visualizations are created to explore relationships between features and class labels.</li> <li>Point plots show relationships between features like duration, amount, and employment duration for each class label.</li> <li>Count plots display the distribution of credit history for each class label.</li> </ul> <figure> <picture> <source class="responsive-img-srcset" srcset="https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/imb-480.webp 480w,https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/imb-800.webp 800w,https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/imb-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/imb.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" alt="imbalanced categories" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h3 id="model-design-and-evaluation"><strong>Model Design and Evaluation</strong></h3> <ul> <li>A random forest classifier is trained on the data.</li> <li>Accuracy scores are computed for both training and test sets. <h3 id="handling-imbalanced-data"><strong>Handling Imbalanced Data</strong></h3> </li> <li>Techniques to address class imbalance are applied (oversampling and undersampling).</li> <li>The performance metrics (precision, recall, F1-score) are evaluated for both class labels.</li> </ul> <figure> <picture> <source class="responsive-img-srcset" srcset="https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/cmatrix-480.webp 480w,https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/cmatrix-800.webp 800w,https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/cmatrix-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="https://raw.githubusercontent.com/ammahmoudi/Credit-Risk-Prediction/main/cmatrix.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" alt="imbalanced categories" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Amirhossein Mahmoudi. Last updated: June 03, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?da39b660470d1ba6e6b8bf5f37070b6e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-TNCS9B9B3L"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TNCS9B9B3L");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>