<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content=""> <meta name="msvalidate.01" content=""> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Dinning Philosophers | Amirhossein Mahmoudi</title> <meta name="author" content="Amirhossein Mahmoudi"> <meta name="description" content="Implenting Dinning Philosophers problem in a client-server style with nice GUI using java and javafx"> <meta name="keywords" content="amirhossein-mahmoudi, mahmoudi, am_mahmoudi,"> <meta property="og:site_name" content="Amirhossein Mahmoudi"> <meta property="og:type" content="website"> <meta property="og:title" content="Amirhossein Mahmoudi | Dinning Philosophers"> <meta property="og:url" content="https://mamood.ir/projects/Dinning-Philosophers/"> <meta property="og:description" content="Implenting Dinning Philosophers problem in a client-server style with nice GUI using java and javafx"> <meta property="og:image" content="https://mamood.ir/assets/img/og_pic.png"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Dinning Philosophers"> <meta name="twitter:description" content="Implenting Dinning Philosophers problem in a client-server style with nice GUI using java and javafx"> <meta name="twitter:image" content="https://mamood.ir/assets/img/og_pic.png"> <meta name="twitter:site" content="@ammahmoodi"> <meta name="twitter:creator" content="@ammahmoodi"> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Amirhossein  Mahmoudi"
        },
        "url": "https://mamood.ir/projects/Dinning-Philosophers/",
        "@type": "WebSite",
        "description": "Implenting Dinning Philosophers problem in a client-server style with nice GUI using java and javafx",
        "headline": "Dinning Philosophers",
        "sameAs": ["https://orcid.org/0009-0006-8879-7932", "https://www.researchgate.net/profile/Amirhossein-Mahmoudi", "https://github.com/ammahmoudi", "https://telegram.me/am_mahmoudi", "https://www.linkedin.com/in/am-mahmoudi", "https://twitter.com/ammahmoodi", "https://instagram.com/am.mahmoudi"],
        "name": "Amirhossein  Mahmoudi",
        "@context": "https://schema.org"
    }
    </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png?35f4f1d9ccd51f0ffeea607d2b075320"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://mamood.ir/projects/Dinning-Philosophers/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?3083bd4465be5d8fdee1f234dc32fd09"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Amirhossein </span>Mahmoudi</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog</a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">Projects<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/portfolio/">Portfolio</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Dinning Philosophers</h1> <p class="post-description">Implenting Dinning Philosophers problem in a client-server style with nice GUI using java and javafx</p> </header> <article> <div id="open-in-github"> <table class="table-cv list-group-table"> <tbody> <tr> <td class="list-group-name"><b> <a href="https://github.com/ammahmoudi/Dinning-Philosophers" rel="external nofollow noopener" target="_blank"><i class="fa-brands fa-github"></i> This page is auto-generated. For more info and materials take a look at the original repository.</a> </b></td> </tr> </tbody> </table> </div> <hr> <p>Implementing Dinning Philosophers problem in a client-server style with a nice GUI using java and JavaFX</p> <figure> <picture> <source class="responsive-img-srcset" srcset=" https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/cover-480.webp 480w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/cover-800.webp 800w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/cover-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/cover.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" alt="cover" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <figure> <picture> <source class="responsive-img-srcset" srcset=" https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/main-480.webp 480w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/main-800.webp 800w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/main-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/main.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" alt="main" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h2 id="dining-philosophers-problem">Dining Philosophers Problem</h2> <p>The problem of dining philosophers is a classic problem in computer science that illustrates the challenges of concurrency and synchronization. The problem can be described as follows:</p> <ul> <li> <strong>Five philosophers</strong> sit around a circular table, each with a bowl of rice and a chopstick on each side.</li> <li>The chopstick on the right of each philosopher is the same as the chopstick on the left of the next philosopher.</li> <li>The philosophers alternate between <strong>thinking</strong>, <strong>eating</strong>, and <strong>waiting</strong>. To eat, a philosopher must pick up both chopsticks on his sides.</li> <li>The only communication between the philosophers is through picking up and dropping the chopsticks (assuming they do not talk or write).</li> <li>The problem is to design an algorithm that allows the philosophers to eat without causing any <strong>deadlock</strong>, <strong>starvation</strong>, or <strong>unfairness</strong>.</li> </ul> <p>Some possible scenarios that may occur are:</p> <ul> <li>If all the philosophers decide to eat at the same time, they will all succeed in the first step of the algorithm and pick up the right chopsticks. However, in the second step, they will all wait indefinitely for their left chopsticks. This situation is called a deadlock.</li> <li>If one of the philosophers who has picked up his right chopstick and is waiting for his left chopstick decides to drop his chopstick and sit quietly and watch the others eat, this may create a possibility that the altruistic philosopher never gets a chance to eat. This situation is called starvation.</li> <li>Even if all the philosophers manage to eat, some of them may get more opportunities to eat than others. This situation is called unfairness.</li> </ul> <p>The task is to propose solutions for the problems mentioned in the algorithm and modify the algorithm accordingly.</p> <figure> <picture> <source class="responsive-img-srcset" srcset=" https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/waiting-480.webp 480w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/waiting-800.webp 800w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/waiting-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/waiting.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" alt="waiting" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h2 id="solution">Solution</h2> <ul> <li> <strong>Designate a special philosopher</strong>: To avoid deadlock, the server can choose one of the philosophers as a special one (for example, the left-handed one). This philosopher must first pick up the left chopstick and then request the right one. This way, when everyone else requests the right chopstick at the same time, this philosopher prevents the deadlock by requesting the left one.</li> <li> <strong>Queue the requests for each chopstick</strong>: To avoid starvation, the server can queue the requests for each chopstick and after one philosopher finishes using a chopstick, if the next philosopher in the queue has requested it, he will not have the right to use it again until the other philosopher releases it. (Like when we are in a bakery, we only have the right to get bread once and to get bread again we have to go to the end of the queue.)</li> <li> <strong>Prioritize the philosophers</strong>: To avoid unfairness, the server can prioritize the philosophers. For example, the server can store the total time that each philosopher has eaten and when there is a competition, permit to eat to the philosopher to eat less.</li> <li> <strong>Limit the holding time of each chopstick</strong>: To avoid abuse and injustice, each philosopher has only 10 seconds to hold a chopstick. The philosopher must request to eat and start eating before 10 seconds, otherwise, the chopsticks will be taken back.</li> </ul> <p>The solution in this repository uses a client-server architecture, where each philosopher is a client and the table is a server. The server manages the chopsticks and the state of the philosophers. The clients send requests to the server to pick up or drop the chopsticks. The server responds with a message indicating whether the request is granted or denied.</p> <p>The solution also uses a GUI to visualize the problem and the solution. The GUI shows the table, the philosophers, the chopsticks, and the state of each philosopher. The GUI also allows the user to start, pause, resume, and stop the simulation.</p> <figure> <picture> <source class="responsive-img-srcset" srcset=" https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/extra-480.webp 480w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/extra-800.webp 800w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/extra-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/extra.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" alt="extra" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h2 id="code-structure">Code Structure</h2> <p>The code is organized into two packages: Client and Server. The Client package contains the classes for the philosopher, the client, and the GUI. The Server package contains the classes for the table, the server, and the chopstick.</p> <p>The main class for running the simulation is the Client class, which creates five instances of the Philosopher class and connects them to the Server class. The Server class creates an instance of the Table class and five instances of the Chopstick class. The Table class manages the chopsticks and the fairness queue. The Chopstick class represents a chopstick with a number and a state.</p> <p>The GUI class creates a graphical user interface using JavaFX. The GUI class uses the Observer pattern to update the display according to the state of the philosophers and the chopsticks. The GUI class also provides buttons for controlling the simulation.</p> <figure> <picture> <source class="responsive-img-srcset" srcset=" https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/console-480.webp 480w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/console-800.webp 800w, https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/console-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="https://raw.githubusercontent.com/ammahmoudi/Dinning-Philosophers/master/images/console.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" alt="console" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h2 id="how-to-run">How to Run</h2> <p>you have to first run the server and then start some instances of the client. Then a client needs to start the dining. To run the simulation, you need to have Java and JavaFX installed on your system.</p> <p>To compile the code, you can use the following command:</p> <p><code class="language-plaintext highlighter-rouge">javac -cp .;path-to-javafx-sdk\lib\* Client\*.java Server\*.java</code></p> <p>To run the code, you can use the following command:</p> <p><code class="language-plaintext highlighter-rouge">java -cp .;path-to-javafx-sdk\lib\* Client.Client</code></p> <p>You should see a window with the GUI of the simulation. You can use the buttons to start, pause, resume, and stop the simulation. You can also see the state of each philosopher and chopstick on the screen.</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Amirhossein Mahmoudi. Last updated: February 06, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?9b43d6e67ddc7c0855b1478ee4c48c2d" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-TNCS9B9B3L"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TNCS9B9B3L");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>